<!-- Service Card Widget for ServiceNow -->
<!-- This is a reusable service card component that can be used as a ServiceNow widget -->

<div class="hornet-hub-service-card">
    <div class="hornet-hub-service-card-header">
        <div class="hornet-hub-service-card-icon" style="background-color: ${cardColor};">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <!-- Icon SVG path will be inserted here dynamically -->
                ${iconSvgPath}
            </svg>
        </div>
        <div class="hornet-hub-service-card-content">
            <h3 class="hornet-hub-service-card-title">${cardTitle}</h3>
            <p class="hornet-hub-service-card-description">${cardDescription}</p>
            <ul class="hornet-hub-service-card-services">
                <!-- Service items will be inserted here dynamically -->
                ${servicesList}
            </ul>
            <button class="hornet-hub-service-card-link" onclick="viewMoreServices('${cardId}')">
                View more...
            </button>
        </div>
    </div>
</div>

<script>
// Widget-specific JavaScript for ServiceNow
function viewMoreServices(cardId) {
    // This function will be called when "View more..." is clicked
    // You can customize this to integrate with ServiceNow's navigation
    console.log('View more services for card:', cardId);
    
    // Example: Navigate to a specific ServiceNow catalog page
    // window.location.href = '/nav_to.do?uri=catalog_home.do%3Fsysparm_category=' + cardId;
}

// Function to populate service card data
function populateServiceCard(cardData) {
    const cardElement = document.querySelector('.hornet-hub-service-card');
    
    // Update card title
    const titleElement = cardElement.querySelector('.hornet-hub-service-card-title');
    if (titleElement) titleElement.textContent = cardData.title;
    
    // Update card description
    const descElement = cardElement.querySelector('.hornet-hub-service-card-description');
    if (descElement) descElement.textContent = cardData.description;
    
    // Update card icon color
    const iconElement = cardElement.querySelector('.hornet-hub-service-card-icon');
    if (iconElement) iconElement.style.backgroundColor = cardData.color;
    
    // Update icon SVG
    const svgElement = cardElement.querySelector('.hornet-hub-service-card-icon svg');
    if (svgElement && cardData.iconSvg) {
        svgElement.innerHTML = cardData.iconSvg;
    }
    
    // Update services list
    const servicesElement = cardElement.querySelector('.hornet-hub-service-card-services');
    if (servicesElement && cardData.services) {
        const servicesHTML = cardData.services.map(service => 
            `<li class="hornet-hub-service-card-service-item">${service}</li>`
        ).join('');
        servicesElement.innerHTML = servicesHTML;
    }
    
    // Update view more button
    const viewMoreButton = cardElement.querySelector('.hornet-hub-service-card-link');
    if (viewMoreButton) {
        viewMoreButton.setAttribute('onclick', `viewMoreServices('${cardData.id || cardData.title}')`);
    }
}

// Example usage - you would call this with actual data from ServiceNow
/*
const exampleCardData = {
    id: 'admin-business',
    title: 'Administrative & Business',
    description: 'Business process automation, facilities management, and administrative support services.',
    color: '#4e58a6',
    iconSvg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6m10 0V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m8 0h2l-4 4h-2m-6 0h2l-4-4h2z"/>',
    services: [
        'Business Capability & Process Automation',
        'Facilities Management',
        'Administrative Support Services'
    ]
};

// Populate the card with data
populateServiceCard(exampleCardData);
*/
</script>