<!-- Sidebar Navigation Widget for ServiceNow -->
<!-- This is a reusable sidebar navigation component that can be used as a ServiceNow widget -->

<div class="hornet-hub-sidebar-container">
    <h3 class="hornet-hub-sidebar-title">Campus Service Catalog</h3>
    <nav class="hornet-hub-sidebar-nav" id="sidebarNavigation">
        <!-- Navigation items will be inserted here dynamically -->
    </nav>
    
    <button class="hornet-hub-sidebar-login-button" onclick="navigateToLogin()">
        Login to View Departmental Catalogs
    </button>
</div>

<script>
// Sidebar Navigation Widget JavaScript for ServiceNow

// Default navigation categories data
const defaultNavCategories = [
    {
        id: 'admin-business',
        title: 'Administrative & Business',
        iconSvg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6m10 0V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m8 0h2l-4 4h-2m-6 0h2l-4-4h2z"/>',
        isActive: true
    },
    {
        id: 'communication-collaboration',
        title: 'Communication & Collaboration',
        iconSvg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>',
        isActive: false
    },
    {
        id: 'desktop-mobile',
        title: 'Desktop & Mobile Computing',
        iconSvg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>',
        isActive: false
    },
    {
        id: 'information-security',
        title: 'Information Security',
        iconSvg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>',
        isActive: false
    },
    {
        id: 'infrastructure',
        title: 'Infrastructure',
        iconSvg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"/>',
        isActive: false
    },
    {
        id: 'it-professional',
        title: 'IT Professional Services',
        iconSvg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>',
        isActive: false
    },
    {
        id: 'research',
        title: 'Research',
        iconSvg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"/>',
        isActive: false
    },
    {
        id: 'teaching-learning',
        title: 'Teaching & Learning',
        iconSvg: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"/>',
        isActive: false
    }
];

// Function to create a navigation item HTML
function createNavItem(category) {
    const activeClass = category.isActive ? ' active' : '';
    
    return `
        <button class="hornet-hub-sidebar-nav-item${activeClass}" data-category-id="${category.id}" onclick="selectCategory('${category.id}')">
            <div class="hornet-hub-sidebar-nav-item-content">
                <svg class="hornet-hub-sidebar-nav-item-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    ${category.iconSvg}
                </svg>
                <span>${category.title}</span>
            </div>
            <svg class="hornet-hub-sidebar-nav-item-chevron" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 18 6-6-6-6"/>
            </svg>
        </button>
    `;
}

// Function to render navigation items
function renderNavigation(categories = defaultNavCategories) {
    const container = document.getElementById('sidebarNavigation');
    if (container) {
        const navHTML = categories.map(category => createNavItem(category)).join('');
        container.innerHTML = navHTML;
    }
}

// Function to handle category selection
function selectCategory(categoryId) {
    // Remove active class from all items
    const navItems = document.querySelectorAll('.hornet-hub-sidebar-nav-item');
    navItems.forEach(item => item.classList.remove('active'));
    
    // Add active class to selected item
    const selectedItem = document.querySelector(`[data-category-id="${categoryId}"]`);
    if (selectedItem) {
        selectedItem.classList.add('active');
    }
    
    // Emit custom event for other widgets to listen to
    const event = new CustomEvent('categorySelected', {
        detail: { categoryId: categoryId }
    });
    document.dispatchEvent(event);
    
    console.log('Category selected:', categoryId);
    
    // Here you can add ServiceNow-specific navigation logic
    // For example, filter service catalog items or navigate to category page
}

// Function to handle login button click
function navigateToLogin() {
    console.log('Navigate to login clicked');
    
    // Add ServiceNow-specific login navigation
    // Example: window.location.href = '/login.do';
    
    // Or show login modal/dialog
    // Example: showLoginModal();
}

// Function to update navigation with custom data
function updateNavigation(customCategories) {
    renderNavigation(customCategories);
}

// Function to set active category
function setActiveCategory(categoryId) {
    selectCategory(categoryId);
}

// Initialize the sidebar navigation
function initializeSidebarNav() {
    renderNavigation();
    console.log('Sidebar navigation initialized');
}

// Initialize when DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeSidebarNav);
} else {
    initializeSidebarNav();
}

// Export functions for external use
window.hornetHubSidebar = {
    updateNavigation: updateNavigation,
    setActiveCategory: setActiveCategory,
    selectCategory: selectCategory
};
</script>